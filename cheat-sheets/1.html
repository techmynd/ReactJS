<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
  <title>ReactJS</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">

</head>
<body>
  <br><br>

<div class="container-fluid">
<div class="row">

<div class="col-md-6">
<h4>Set State</h4>
<textarea class="form-control" rows="6">
constructor(props) {
  super(props);

  this.state = {
    date: new Date(),
    counter: 0
  };
}

countHandler = () => {
  this.setState({
    counter: this.state.counter + 1,
    date: new Date()
  });
};
<button onClick={this.countHandler}>
  Counter: {this.state.counter}
</button>
</textarea>
<a href="https://codesandbox.io/s/40wnxm18nw" target="_blank">link</a>
</div>

<div class="col-md-6">
<h4>Set State (Better way - (prevState, props) )</h4>
<textarea class="form-control" rows="6">
constructor(props) {
  super(props);

  this.state = {
    date: new Date(),
    counter: 0
  };
}

countHandler = () => {
  this.setState((prevState, props) => {
    return {
      counter: prevState.counter + 1,
      date: new Date()
    };
  });
};

<button onClick={this.countHandler}>
  Counter: {this.state.counter}
</button>
</textarea>
<a href="https://codesandbox.io/s/8k1n1l56v9" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>OnClick handleChange / No Bind</h4>
<textarea class="form-control" rows="6">
loginHandler = event => {
  alert("hello");
};

<button onClick={event => this.loginHandler(event)}>Click Me</button>
</textarea>
<a href="https://codesandbox.io/s/6jk98yzy7k" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Constructor</h4>
<textarea class="form-control" rows="6">
constructor(props) {
  super(props);
  this.state = {
    isToggleOn: true,
    counter: 0
  };

  // This binding is necessary to make 'this' work in the callback
  this.handleClick = this.handleClick.bind(this);
}
</textarea>
</div>

<div class="col-md-4">
<h4>onClick handleClick</h4>
<textarea class="form-control" rows="6">
constructor(props) {
  super(props);
  this.state = {
    counter: 0
  };

  // This binding is necessary to make 'this' work in the callback
  this.handleClick = this.handleClick.bind(this);
}

   handleClick() {
      this.setState(state => ({
        counter: this.state.counter+1
      }));
    }

<button onClick={this.handleClick}>
  {this.state.counter}
</button>
</textarea>
<a href="https://codesandbox.io/s/1r1p4v49p3" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>handleClick and State Example</h4>
<textarea class="form-control" rows="6">
constructor(props) {
  super(props);
  this.state = {
    isToggleOn: true
  };

  // This binding is necessary to make 'this' work in the callback
  this.handleClick = this.handleClick.bind(this);
}

handleClick() {
  this.setState(state => ({
    isToggleOn: !state.isToggleOn
  }));
}

<button onClick={this.handleClick}>
  {this.state.isToggleOn ? 'ON' : 'OFF'}
</button>
</textarea>
<a href="https://codesandbox.io/s/m5oq2zolzx" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Ref</h4>
<textarea class="form-control" rows="6">
//define inline
<input ref={(node) => { this.inputEmailRef } = node} />
//or
ref={node => (this.inputEmailRef = node)}
// use 
componentDidMount(){
  this.inputEmailRef.focus();
}

// or 
// define in constructor
this.inputNameRef = React.createRef();
// and assign to element 
<input ref={this.inputEmailRef} />
// and use  
this.inputNameRef.current.focus();
</textarea>
<a href="https://codesandbox.io/s/03q4olnm3n" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Function Component</h4>
<textarea class="form-control" rows="6">
// define in same file
function articleOne(props) {
  return (
    <div>This is article two</div>
  );
}
// call it in same file 
<articleOne />
</textarea>
<a href="https://codesandbox.io/s/zqxqj6nvl" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Function Component Export</h4>
<textarea class="form-control" rows="6">
// define in seperate file
import React from "react";
export default function About(props) {
  return (
    <div>This is about component as function component</div>
  );
}
// call it in other file 
import React, { Component } from "react";
import ReactDOM from "react-dom";
import About from "./About";
<About />
</textarea>
</textarea>
<a href="https://codesandbox.io/s/6vxl3xr953" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Sending props with Route</h4>
<textarea class="form-control" rows="6">
// Regular Route
<Route path='/' component={BookShelf}/>
// Route including props
<Route path='/' render={props => (
    <BookShelf {...props} ppShelfName={"Currently Reading"}  ppBooksStack={this.state.booksCurrentlyReading} />
)} />
</textarea>
</div>

<div class="col-md-4">
<h4>If/Else JSX</h4>
<textarea class="form-control" rows="6">
{ props.something ? 
  <div className="" style={{ width: 128, height: 193 }}>Show Something</div> 
: 
  <div className="">Don't show anything</div> 
}

// or 

{ props.something ? 
  <div>Show Something</div>
: 
  ''
}

// or 

{ this.state.something ? 
  <div>Show Something</div>
: 
  ''
}

// or 

{this.state.loggedin === true ? (
  <div>LoggedIn</div>
  ) : (
    <div>Not loggedIn</div>
  )
}
</textarea>
<a href="https://codesandbox.io/s/vj3qzn5w3" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Background Image JSX</h4>
<textarea class="form-control" rows="6">
<div className="book-cover" style={{ width: 128, height: 193, backgroundImage:`url( ${props.book.imageLinks.smallThumbnail} )` }}></div>
</textarea>
</div>
<div class="col-md-4">
<h4>Loop and map</h4>
<textarea class="form-control" rows="6">
<ol className="books-grid">
  {Array.isArray(this.props.ppBooksStack) && this.props.ppBooksStack.map((book) => (
    <li key={book.id}>
      
      {/* <Book 
      ppBookURL={book.imageLinks.smallThumbnail} 
      ppBookTitle={book.title}  
      ppBookAuthors={book.publisher} 
      ppBookCategory={book.categories} 
      ppBookShelf={book.shelf}
      ppBookID={book.id} /> */}

      <Book ppWholeBookObject={book} />

    </li>
    ))
  }
</ol>
// pass elements from book or whole book object in case you want to pass it to another element 
// or you can display properties there
// above example is calling an object in loop and passing its properties as props to Book component
</textarea>
</div>

<div class="col-md-4">
<h4>Inline setState</h4>
<textarea class="form-control" rows="6">
<button onClick={() => this.setState({ showSearchPage: true })}>Search books</button>
</textarea>
</div>

<div class="col-md-4">
<h4>Input onChange Pass event and declare props</h4>
<textarea class="form-control" rows="6">
<input 
  type="text" 
  placeholder="Search by title or author" 
  value={this.props.ppSearchText} 
  onChange={(event) => this.props.ppHandleUpdate(event)}
/>

// or

<input 
  type="text" 
  placeholder="Search by title or author" 
  value={this.searchedText} 
  onChange={(event) => this.handleUpdate(event)}
/>

// and then 

handleUpdate = (event) => {
// get the search text and store in in state
this.setState({
  searchedTxt: event.target.value
})
</textarea>
</div>

<div class="col-md-4">
<h4>Filter from Results or Object or State</h4>
<textarea class="form-control" rows="6">
const allBooks = this.state.bookResults;
//console.log(allBooks);
let currentlyReading = allBooks.filter(book => book.shelf === "currentlyReading");
// allBooks.shelf was shelf name entry in object
// we filtered books with currentlyReading in shelf entry from object
</textarea>
</div>

<div class="col-md-4">
<h4>Class Component</h4>
<textarea class="form-control" rows="6">
import React from "react";
import ReactDOM from "react-dom";
import "./styles.css";

class App extends React.Component {
  constructor(props){
    super(props);
  }
  
  render() {
    return (
      <div className="App">
        ...
      </div>
    );
  }
}
</textarea>
</div>

<div class="col-md-4">
<h4>Title</h4>
<textarea class="form-control" rows="6">

</textarea>
<a href="#" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Title</h4>
<textarea class="form-control" rows="6">

</textarea>
<a href="#" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Title</h4>
<textarea class="form-control" rows="6">

</textarea>
<a href="#" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Title</h4>
<textarea class="form-control" rows="6">

</textarea>
<a href="#" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Title</h4>
<textarea class="form-control" rows="6">

</textarea>
<a href="#" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Title</h4>
<textarea class="form-control" rows="6">

</textarea>
<a href="#" target="_blank">link</a>
</div>

</div><!--.row ends-->
</div><!--.container-fluid ends-->


<div class="container">
<br><br>
Routing:<br>
<a href="https://codesandbox.io/s/9l375m9q84" target="_blank">Routing 1 - Simple</a><br>
<a href="https://codesandbox.io/s/zqxqj6nvl" target="_blank">Routing 2 - Child Page Routing</a><br>
<a href="https://codesandbox.io/s/62op76mq6w" target="_blank">Routing 3</a><br>
<a href="https://codesandbox.io/s/m35jmw7j29" target="_blank">Routing - Get Value from URL - match</a><br>
<br><br>
</div>



<div class="container">
  <table class="table">
  <thead>
  <tr>
  <th>React & JSX Cheatsheet</th>
  <th></th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td>JSX HTML</td>
  <td><code>&lt;div&gt;...&lt;/div&gt;</code></td>
  </tr>
  <tr>
  <td>JSX Component</td>
  <td><code>&lt;Component property={javascript} /&gt;</code><br><code>&lt;Component property='string' /&gt;</code></td>
  </tr>
  <tr>
  <td>JSX Component with Children</td>
  <td><code>&lt;Component&gt;{children}&lt;/Component&gt;</code><br>reference: <code>props.children</code></td>
  </tr>
  <tr>
  <td>Escaping JavaScript</td>
  <td><code>{...}</code></td>
  </tr>
  <tr>
  <td><code>require</code> statements</td>
  <td><code>const React = require('react');</code><br><code>const ReactDOM = require('react-dom');</code></td>
  </tr>
  <tr>
  <td><code>npm</code> modules</td>
  <td><code>react</code>, <code>react-dom</code></td>
  </tr>
  <tr>
  <td>Render in DOM</td>
  <td><code>ReactDOM.render(&lt;MyApp /&gt;, document.getElementById('root'));</code></td>
  </tr>
  <tr>
  <td>Functional components</td>
  <td><code>function MyComponent(props) { return &lt;div&gt;...&lt;/div&gt; }</code></td>
  </tr>
  <tr>
  <td>Base class for class components</td>
  <td><code>React.Component</code></td>
  </tr>
  <tr>
  <td>First statement in constructor</td>
  <td><code>super(props)</code></td>
  </tr>
  <tr>
  <td>Initializing state</td>
  <td><code>this.state={...}</code></td>
  </tr>
  <tr>
  <td>Setting state</td>
  <td><code>this.setState({...})</code></td>
  </tr>
  <tr>
  <td>Referring previous state</td>
  <td><code>this.setState(prevState =&gt; ({...}))</code><br><code>this.setState((prevState, props) =&gt; ({...}))</code></td>
  </tr>
  </tbody>
  </table>
  <a href="https://gist.github.com/delibytes/5b4f480427b9e7a923f7a313e58aaca8" target="_blank">Link</a>
</div>


  <br><br>
</body>
</html>