<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
  <title>ReactJS</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">

</head>
<body>
  <br><br>

<div class="container-fluid">

<ul>
  <li>Functional components can not use life cycle hooks</li>
  <li>Classes use render and return but functional componnets use only return</li>
</ul>

<div class="row">

<div class="col-md-12">
  
  <a href="https://codesandbox.io/s/pjqz7vzjvx" target="_blank">Class Based Components / Send Receive Props</a>
  <br>
  <a href="https://codesandbox.io/s/xp0nv1mzq" target="_blank">Class & Function Based Components / Send Receive Props</a>
  <br>
  <a href="https://codesandbox.io/s/n1k2o9r740" target="_blank">Form Fields / Single handleChange</a>
  <br>
  <a href="https://codesandbox.io/s/4354knqj97" target="_blank">Execute Function from Child Component</a>
  
  <br><br>

  <a href="https://codesandbox.io/s/14z89lorv3" target="_blank">App - To Do List 1 (content + dynamic ID)</a><br>
  <a href="https://codesandbox.io/s/qq0qp7y866" target="_blank">App - To Do List 2 (content + ID from child component)</a><br>
  <a href="https://codesandbox.io/s/oo54mp0o2y" target="_blank">App - To Do List 3 (NO ID, only content)</a>
  <br>
  <a href="https://codesandbox.io/s/m77v0yvkmj" target="_blank">App - Ninjas</a>
  <br>
  <a href="https://codesandbox.io/s/pyl684zr7x" target="_blank">App - One HOC -  One State - Two Counters</a>
  
  

  <br><br>

</div>

<div class="col-md-6">
<h4>If Else</h4>
<textarea class="form-control" rows="6">
import React from "react";
const Todos = ({ todos }) => {}

const todoList = todos.length ? () : ()
const todoList = todos.length ? () : null 

const todoList = todos.length ? (
  
  todos.map(todo => {
    return (
      <div className="collection-item" key={todo.id}>
        <span>{todo.content}<span>
      </div>
    )
  })

) : (

  <p className="alert alert-info">No Todos!</p>

)

</textarea>
<a href="" target="_blank">link</a>
</div>


<div class="col-md-6">
<h4>Function Component / Dumb Component</h4>
<textarea class="form-control" rows="6">
import React from "react";
const Todos = ({ todos }) => {
  return (
    <div className="collection">{toDoList}</div>
  );
};
export default Todos;

// or

import React from "react";
const Todos = ({ todos }) => {
  const toDoList = todos.length ? (
    todos.map(todo => {
      return (
        <div className="collection-item" key={todo.id}>
          <span>{todo.content}</span>
        </div>
      );
    })
  ) : (
    <p className="info center">No to dos left</p>
  );
  return <div className="todos collection">{toDoList}</div>;
};

export default Todos;
</textarea>
<a href="" target="_blank">link</a>
</div>



<div class="col-md-6">
<h4>Delete</h4>
<textarea class="form-control" rows="6">
deleteToDo = id => {
  // console.log(id);
  // delete id from state non-destructively
  // by using filter for state and exclude id
  const TODOS = this.state.todos.filter(TODO => {
    return TODO.id !== id;
  });
  this.setState({
    todos: TODOS
  });
};

// for other component
<Todos todos={this.state.todos} deleteToDo={this.deleteToDo} />

const Todos = ({ todos, deleteToDo }) => {}

<button onClick={() => {deleteToDo(todo.id)}}>X</button>

</textarea>
<a href="" target="_blank">link</a>
</div>





<div class="col-md-6">
<h4>Template Literal // Strings with extra features</h4>
<textarea class="form-control" rows="6">
  // Template Literal // Strings with extra features
  {`Name: ${person.name}, Age: ${person.age}`}
  console.log(`Name: ${person.name}, Age: ${person.age}`);
  // variable inside string
  let escription = `
    Hello, I am ${name}
    Hello, I am ${name + " some other string "}
  `;
</textarea>
<a href="" target="_blank">link</a>
</div>




<div class="col-md-6">
<h4>Copy of State</h4>
<textarea class="form-control" rows="6">
// Push copy of state and new element in state - Carbon copy of state
// ninjas is state object and newNinjaToAdd is new object to insert in sate

let carbonCopy = [...this.state.ninjas, newNinjaToAdd]
this.setState({
  ninjas: carbonCopy
})
</textarea>
<a href="" target="_blank">link</a>
</div>


<div class="col-md-6">
<h4>Set State</h4>
<textarea class="form-control" rows="6">
constructor(props) {
  super(props);

  this.state = {
    date: new Date(),
    counter: 0
  };
}

countHandler = () => {
  this.setState({
    counter: this.state.counter + 1,
    date: new Date()
  });
};
<button onClick={this.countHandler}>
  Counter: {this.state.counter}
</button>
</textarea>
<a href="https://codesandbox.io/s/40wnxm18nw" target="_blank">link</a>
</div>

<div class="col-md-6">
<h4>Set State (Better way - (prevState, props) )</h4>
<textarea class="form-control" rows="6">
constructor(props) {
  super(props);

  this.state = {
    date: new Date(),
    counter: 0
  };
}

countHandler = () => {
  this.setState((prevState, props) => {
    return {
      counter: prevState.counter + 1,
      date: new Date()
    };
  });
};

<button onClick={this.countHandler}>
  Counter: {this.state.counter}
</button>
</textarea>
<a href="https://codesandbox.io/s/8k1n1l56v9" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>OnClick handleChange / No Bind</h4>
<textarea class="form-control" rows="6">
loginHandler = event => {
  alert("hello");
};

<button onClick={event => this.loginHandler(event)}>Click Me</button>
</textarea>
<a href="https://codesandbox.io/s/6jk98yzy7k" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Constructor</h4>
<textarea class="form-control" rows="6">
constructor(props) {
  super(props);
  this.state = {
    isToggleOn: true,
    counter: 0
  };

  // This binding is necessary to make 'this' work in the callback
  this.handleClick = this.handleClick.bind(this);
}
</textarea>
</div>

<div class="col-md-4">
<h4>onClick handleClick</h4>
<textarea class="form-control" rows="6">
constructor(props) {
  super(props);
  this.state = {
    counter: 0
  };

  // This binding is necessary to make 'this' work in the callback
  this.handleClick = this.handleClick.bind(this);
}

   handleClick() {
      this.setState(state => ({
        counter: this.state.counter+1
      }));
    }

<button onClick={this.handleClick}>
  {this.state.counter}
</button>
</textarea>
<a href="https://codesandbox.io/s/1r1p4v49p3" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>handleClick and State Example</h4>
<textarea class="form-control" rows="6">
constructor(props) {
  super(props);
  this.state = {
    isToggleOn: true
  };

  // This binding is necessary to make 'this' work in the callback
  this.handleClick = this.handleClick.bind(this);
}

handleClick() {
  this.setState(state => ({
    isToggleOn: !state.isToggleOn
  }));
}

<button onClick={this.handleClick}>
  {this.state.isToggleOn ? 'ON' : 'OFF'}
</button>
</textarea>
<a href="https://codesandbox.io/s/m5oq2zolzx" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Ref</h4>
<textarea class="form-control" rows="6">
//define inline
<input ref={(node) => { this.inputEmailRef } = node} />
//or
ref={node => (this.inputEmailRef = node)}
// use 
componentDidMount(){
  this.inputEmailRef.focus();
}

// or 
// define in constructor
this.inputNameRef = React.createRef();
// and assign to element 
<input ref={this.inputEmailRef} />
// and use  
this.inputNameRef.current.focus();
</textarea>
<a href="https://codesandbox.io/s/03q4olnm3n" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Function Component</h4>
<textarea class="form-control" rows="6">
// define in same file
function articleOne(props) {
  return (
    <div>This is article two</div>
  );
}
// call it in same file 
<articleOne />
</textarea>
<a href="https://codesandbox.io/s/zqxqj6nvl" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Function Component Export</h4>
<textarea class="form-control" rows="6">
// define in seperate file
import React from "react";
export default function About(props) {
  return (
    <div>This is about component as function component</div>
  );
}
// call it in other file 
import React, { Component } from "react";
import ReactDOM from "react-dom";
import About from "./About";
<About />
</textarea>
</textarea>
<a href="https://codesandbox.io/s/6vxl3xr953" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Sending props with Route</h4>
<textarea class="form-control" rows="6">
// Regular Route
<Route path='/' component={BookShelf}/>
// Route including props
<Route path='/' render={props => (
    <BookShelf {...props} ppShelfName={"Currently Reading"}  ppBooksStack={this.state.booksCurrentlyReading} />
)} />
</textarea>
</div>

<div class="col-md-4">
<h4>If/Else JSX</h4>
<textarea class="form-control" rows="6">
{ props.something ? 
  <div className="" style={{ width: 128, height: 193 }}>Show Something</div> 
: 
  <div className="">Don't show anything</div> 
}

// or 

{ props.something ? 
  <div>Show Something</div>
: 
  ''
}

// or 

{ this.state.something ? 
  <div>Show Something</div>
: 
  ''
}

// or 

{this.state.loggedin === true ? (
  <div>LoggedIn</div>
  ) : (
    <div>Not loggedIn</div>
  )
}
</textarea>
<a href="https://codesandbox.io/s/vj3qzn5w3" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Background Image JSX</h4>
<textarea class="form-control" rows="6">
<div className="book-cover" style={{ width: 128, height: 193, backgroundImage:`url( ${props.book.imageLinks.smallThumbnail} )` }}></div>
</textarea>
</div>
<div class="col-md-4">
<h4>Loop and map</h4>
<textarea class="form-control" rows="6">
<ol className="books-grid">
  {Array.isArray(this.props.ppBooksStack) && this.props.ppBooksStack.map((book) => (
    <li key={book.id}>
      
      {/* <Book 
      ppBookURL={book.imageLinks.smallThumbnail} 
      ppBookTitle={book.title}  
      ppBookAuthors={book.publisher} 
      ppBookCategory={book.categories} 
      ppBookShelf={book.shelf}
      ppBookID={book.id} /> */}

      <Book ppWholeBookObject={book} />

    </li>
    ))
  }
</ol>
// pass elements from book or whole book object in case you want to pass it to another element 
// or you can display properties there
// above example is calling an object in loop and passing its properties as props to Book component
</textarea>
</div>

<div class="col-md-4">
<h4>Inline setState</h4>
<textarea class="form-control" rows="6">
<button onClick={() => this.setState({ showSearchPage: true })}>Search books</button>
</textarea>
</div>

<div class="col-md-4">
<h4>Input onChange Pass event and declare props</h4>
<textarea class="form-control" rows="6">
<input 
  type="text" 
  placeholder="Search by title or author" 
  value={this.props.ppSearchText} 
  onChange={(event) => this.props.ppHandleUpdate(event)}
/>

// or

<input 
  type="text" 
  placeholder="Search by title or author" 
  value={this.searchedText} 
  onChange={(event) => this.handleUpdate(event)}
/>

// and then 

handleUpdate = (event) => {
// get the search text and store in in state
this.setState({
  searchedTxt: event.target.value
})
</textarea>
</div>

<div class="col-md-4">
<h4>Filter from Results or Object or State</h4>
<textarea class="form-control" rows="6">
const allBooks = this.state.bookResults;
//console.log(allBooks);
let currentlyReading = allBooks.filter(book => book.shelf === "currentlyReading");
// allBooks.shelf was shelf name entry in object
// we filtered books with currentlyReading in shelf entry from object
</textarea>
</div>

<div class="col-md-4">
<h4>Class Component</h4>
<textarea class="form-control" rows="6">
import React from "react";
import ReactDOM from "react-dom";
import "./styles.css";

class App extends React.Component {
  constructor(props){
    super(props);
  }
  
  render() {
    return (
      <div className="App">
        ...
      </div>
    );
  }
}
</textarea>
</div>

<div class="col-md-4">
<h4>Ajax - Axios</h4>
<textarea class="form-control" rows="6">
import axios from "axios";

componentDidMount() {
  // only in .then you can access data
  axios.get("https://jsonplaceholder.typicode.com/posts")
  .then(response => {

      // limit the posts to 4 via slice
      // const postsLimit = response.data.slice(0, 4);

    this.setState({
      posts: response.data
    });
    //console.log(response);
  });
}

<ol className="">
  {Array.isArray(this.state.posts) &&
    this.state.posts.map(post => (
      <li key={post.id}>
        {post.title}
        <br />
        {post.body}
        <br />
        <br />
      </li>
    ))}
</ol>

</textarea>
<a href="https://codesandbox.io/s/r1p42vr14" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Process if Component has been updated</h4>
<textarea class="form-control" rows="6">
componentDidUpdate(){
  if( this.props.id ){
    ...
  }
}
</textarea>
</div>

<div class="col-md-4">
<h4>Axios Post Data</h4>
<textarea class="form-control" rows="6">
postHandler = () => {
  const newData = {
    title: this.state.title,
    body: this.state.body
  }
  axios.post("https://jsonplaceholder.typicode.com/posts", newData)
  .then(response => {
    //console.log(response);
  });
}
</textarea>
</div>

<div class="col-md-4">
<h4>Axios - Delete Data</h4>
<textarea class="form-control" rows="6">
deleteHandler = () => {
  axios.delete("https://jsonplaceholder.typicode.com/posts/" + this.props.deleteID)
  .then(response => {
    //console.log(response);
  });
}
</textarea>
</div>

<div class="col-md-4">
<h4>Axios Defaults</h4>
<textarea class="form-control" rows="6">
axios.defaults.baseURL = 'https://jsonplaceholder.typicode.com';
axios.defaults.headers.common['Authorization'] = 'AUTH TOKEN';
axios.defaults.headers.post['Content-Type'] = 'application/json';
// use these above component declaration
// then new request will be like below
axios.get("/posts").then(response => { console.log(response.data) });
</textarea>
</div>

<div class="col-md-4">
<h4>Pass props component to component</h4>
<textarea class="form-control" rows="6">
<Post {...this.props} />
</textarea>
</div>

<div class="col-md-4">
<h4>Axios / Posts / Single Post with Routing</h4>
<textarea class="form-control" rows="6">
see the link
</textarea>
<a href="https://codesandbox.io/s/o95kkq4l8y" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Pass props, store/call props</h4>
<textarea class="form-control" rows="6">
// Pass it
<Bookshelf state={this.state} update={this.updateShelf} />
// call it at next omponent
render() {
  // Destructure props object
  const { state, update } = this.props;
}
// now u can use these 
let booksReading = state.books.filter(book => book.shelf === "currentlyReading");
</textarea>
</div>

<div class="col-md-4">
<h4>Simple Check</h4>
<textarea class="form-control" rows="6">
let booksReading = state.books.filter(book => book.shelf === "currentlyReading");
{booksReading.length > 0 (<div>...</div)}
// or
// if not 
{!book.imageLinks && (<div></div>)}
// if
{book.imageLinks && (<div></div>)}

//or
// this.props.itemResult can be undefined, null, 0 or {}
if(!this.props.itemResult){
  console.log("no data");
} else {
  console.log(data);
}
// if you want to check initialization
if(typeof this.props.itemResult === "undefined"){
  console.log("no data");
} else {
  console.log(data);
}
</textarea>
</div>

<div class="col-md-4">
<h4>Inline Styling</h4>
<textarea class="form-control" rows="6">
<div className="book-cover" style={{
  width: 128,
  backgroundColor: "#aaa",
  display: "flex",
  flexWrap: "wrap",
  alignItems: "center",
  justifyContent: "center",
  textTransform: "uppercase"
}}
>
 No Image
</div>
</textarea>
</div>

<div class="col-md-4">
<h4>Select</h4>
<textarea class="form-control" rows="6">
<select
  id={eachBook.id}
  value={eachBook.shelf ? eachBook.shelf : "none"}
  onChange={e => update(eachBook, e.target.value)}
>
...
</select>
</textarea>
<a href="#" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Get Form Values</h4>
<textarea class="form-control" rows="6">
handleChange = e => {
  this.setState({
    [e.target.id]: e.target.value
  });
};
/////////////////////
<input id="name" onChange={this.handleChange} />
<input id="age" onChange={this.handleChange} />
</textarea>
<a href="https://codesandbox.io/s/n1k2o9r740" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Title</h4>
<textarea class="form-control" rows="6">

</textarea>
<a href="#" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Title</h4>
<textarea class="form-control" rows="6">

</textarea>
<a href="#" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Title</h4>
<textarea class="form-control" rows="6">

</textarea>
<a href="#" target="_blank">link</a>
</div>

<div class="col-md-4">
<h4>Title</h4>
<textarea class="form-control" rows="6">

</textarea>
<a href="#" target="_blank">link</a>
</div>

</div><!--.row ends-->
</div><!--.container-fluid ends-->


<div class="container">
<br><br>
Routing:<br>
<a href="https://codesandbox.io/s/9l375m9q84" target="_blank">Routing 1 - Simple</a><br>
<a href="https://codesandbox.io/s/zqxqj6nvl" target="_blank">Routing 2 - Child Page Routing</a><br>
<a href="https://codesandbox.io/s/62op76mq6w" target="_blank">Routing 3</a><br>
<a href="https://codesandbox.io/s/m35jmw7j29" target="_blank">Routing - Get Value from URL - match</a><br>
<br><br>
</div>



<div class="container">
  <table class="table">
  <thead>
  <tr>
  <th>React & JSX Cheatsheet</th>
  <th></th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td>JSX HTML</td>
  <td><code>&lt;div&gt;...&lt;/div&gt;</code></td>
  </tr>
  <tr>
  <td>JSX Component</td>
  <td><code>&lt;Component property={javascript} /&gt;</code><br><code>&lt;Component property='string' /&gt;</code></td>
  </tr>
  <tr>
  <td>JSX Component with Children</td>
  <td><code>&lt;Component&gt;{children}&lt;/Component&gt;</code><br>reference: <code>props.children</code></td>
  </tr>
  <tr>
  <td>Escaping JavaScript</td>
  <td><code>{...}</code></td>
  </tr>
  <tr>
  <td><code>require</code> statements</td>
  <td><code>const React = require('react');</code><br><code>const ReactDOM = require('react-dom');</code></td>
  </tr>
  <tr>
  <td><code>npm</code> modules</td>
  <td><code>react</code>, <code>react-dom</code></td>
  </tr>
  <tr>
  <td>Render in DOM</td>
  <td><code>ReactDOM.render(&lt;MyApp /&gt;, document.getElementById('root'));</code></td>
  </tr>
  <tr>
  <td>Functional components</td>
  <td><code>function MyComponent(props) { return &lt;div&gt;...&lt;/div&gt; }</code></td>
  </tr>
  <tr>
  <td>Base class for class components</td>
  <td><code>React.Component</code></td>
  </tr>
  <tr>
  <td>First statement in constructor</td>
  <td><code>super(props)</code></td>
  </tr>
  <tr>
  <td>Initializing state</td>
  <td><code>this.state={...}</code></td>
  </tr>
  <tr>
  <td>Setting state</td>
  <td><code>this.setState({...})</code></td>
  </tr>
  <tr>
  <td>Referring previous state</td>
  <td><code>this.setState(prevState =&gt; ({...}))</code><br><code>this.setState((prevState, props) =&gt; ({...}))</code></td>
  </tr>
  </tbody>
  </table>
  <a href="https://gist.github.com/delibytes/5b4f480427b9e7a923f7a313e58aaca8" target="_blank">Link</a>
</div>


  <br><br>
</body>
</html>